# Odoo 19 Installer — Automated Script

This repository contains a production-focused **bash installer script** for deploying Odoo 19 (Community) from source on Ubuntu/Debian.

## Files

* `install-odoo19.sh` — Installer script (make executable and run with sudo)
* `/etc/odoo_installer.conf` — A state file generated by the script to remember previous prompt answers (root-owned)

## Features

* Installs Odoo 19 from the official GitHub repository (selectable branch/tag)
* Creates `odoo` system user and a local Python virtual environment
* Creates a PostgreSQL DB user
* Optional installation of patched `wkhtmltopdf` binary
* Optional nginx reverse proxy + automatic Let's Encrypt TLS via certbot
* Stores your previous choices in `/etc/odoo_installer.conf` so re-running the script pre-fills prompts
* Provides a simple deploy helper to update custom addons

## Quick start

1. Upload or clone this repository to your server.

2. Make the installer executable and run it with sudo:

```bash
chmod +x install-odoo19.sh
sudo bash ./install-odoo19.sh
```

3. The script will prompt for:

* Domain (optional)
* Odoo admin DB password
* Postgres user
* Install path
* Whether to install `wkhtmltopdf`
* Whether to configure TLS via Let's Encrypt

4. After install, access your Odoo instance at:

* `https://your-domain` (if TLS configured)
* or `http://<server-ip>:8069` otherwise

## Re-running the script

The installer saves your last choices to `/etc/odoo_installer.conf`. On re-run, the script will load this file and present previous values as defaults. You can keep them by pressing Enter.

> Security note: `/etc/odoo_installer.conf` stores `admin_passwd`. Keep this file protected and rotate the password if needed.

## Custom addons

Place your custom addons in `/opt/odoo/custom-addons`. The script creates a helper at `/usr/local/bin/odoo-deploy-addons.sh` which pulls (if repo) and restarts Odoo.

To update a module in a specific DB:

```bash
sudo -u odoo /opt/odoo/venv/bin/python3 /opt/odoo/odoo/odoo-bin -c /etc/odoo.conf -d <db_name> -u <module_name>
```

## Troubleshooting

* If `pip install -r requirements.txt` fails, ensure system `-dev` packages are installed. The script installs common ones but distro differences may require extras.
* If `wkhtmltopdf` fails or is missing, download a distro-appropriate patched binary and install it manually.
* If certbot fails, check DNS and that port 80 is reachable.

## Contributing

Improvements welcome: add cloud-init support, backups, or CI/CD hooks.

---

Created by your assistant. Feel free to ask for backups/cron, cloud-init, or a small example CI pipeline. For more details, contact us at vh@pysquad.com or visit [www.pysquad.com](odoo.pysquad.com)
